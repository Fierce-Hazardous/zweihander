{"_id":"DZv40sNDUmKQRgh4","name":"Mass Create Items To Pack (Draft)","type":"script","author":"JyjuBRFhP4y9QWxg","img":"systems/zweihander/assets/icons/cloud-download.svg","scope":"global","command":"const pack = game.packs.get('zweihander.zh-traits');\nconst type = 'trait';\nconst d = () => ({ type });\nconst struc = [\n  'name',\n  'data.effect.value',\n];\nconst data = [\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``,\n  ``\n];\nlet i = 0;\nconst docs = [];\nwhile (data[i]) {\n  const doc = d();\n  for (key of struc) {\n    doc[key] = data[i];\n    i++;\n  }\n  docs.push(doc);\n}\nconst items = await Item.create(docs, { temporary: true });\nfor (let item of items) {\n  await pack.configure({ locked: false });\n  await pack.importDocument(item);\n  await pack.configure({ locked: true });\n}","folder":null,"sort":0,"permission":{"default":0,"JyjuBRFhP4y9QWxg":3},"flags":{"core":{"sourceId":"Macro.ePTQPNwzwV2FyELV"}}}
{"name":"Import Zweihander Trappings into Folders by Category","type":"script","author":"JyjuBRFhP4y9QWxg","img":"systems/zweihander/assets/icons/cloud-download.svg","scope":"global","command":"const pack = game.packs.get('zweihander.zh-trappings');\nconst docs = await pack.getDocuments();\nconst catFolders = {};\nfor (let doc of docs) {\n const cat = doc.data.data.category.value ?? 'Trappings';\n if (!(cat in catFolders)) {\n   catFolders[cat] = await Folder.create({type: \"Item\", name: cat});\n}\n const folder = catFolders[cat];\nconst d = doc.toObject();\nd.folder = folder.id;\n await Item.create(d);\n}","folder":null,"sort":0,"permission":{"default":0,"JyjuBRFhP4y9QWxg":3},"flags":{"core":{"sourceId":"Macro.ePTQPNwzwV2FyELV"}},"_id":"Rhmq08gRKPkG3VtG"}
